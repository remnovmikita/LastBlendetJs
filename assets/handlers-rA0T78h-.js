import{i as b,a as l}from"./vendor-D0-MY6np.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function s(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(r){if(r.ep)return;r.ep=!0;const n=s(r);fetch(r.href,n)}})();function h(t,e){b[t]({title:"OK",message:`${e}`,position:"topCenter"})}l.defaults.baseURL="https://dummyjson.com/products";const P=async()=>{const{data:t}=await l.get("/category-list");return["All",...t]},C=async(t=1)=>{const e=`?limit=12&skip=${(t-1)*12}`,{data:s}=await l.get(e);return s.products},v=async(t,e=1)=>{const{data:s}=await l.get(`/category/${t}?limit=12&skip=${(e-1)*12}`);return s.products},L=async t=>{const{data:e}=await l.get(`/${t}`);return e},$=async(t,e=1)=>{const{data:s}=await l.get(`/search?q=${t}&limit=12&skip=${(e-1)*12}`);return s.products},o={categories:document.querySelector(".categories"),products:document.querySelector(".products"),div:document.querySelector("div.not-found"),modalContent:document.querySelector("div.modal-product"),modal:document.querySelector("div.modal"),btnClose:document.querySelector(".modal__close-btn"),form:document.querySelector(".search-form"),btnCart:document.querySelector(".modal-product__btn--cart"),spanProd:document.querySelectorAll("span.nav__count"),btnWishList:document.querySelector(".modal-product__btn--wishlist"),spanCart:document.querySelectorAll(".cart-summary__value"),btnBuy:document.querySelector(".cart-summary__btn")},q=t=>t.map(e=>`
        <li class="categories__item">
        <button class="categories__btn ${e==="All"?"categories__btn--active":""}" type="button">${e}</button>
        </li>
        `).join(""),g=t=>t.map(({id:e,title:s,description:a,category:r,price:n,thumbnail:i,brand:u})=>`<li class="products__item" data-id="${e}">
    <img class="products__image" src="${i}" alt="${a}"/>
    <p class="products__title">${s}</p>
    <p class="products__brand"><span class="products__brand--bold">Brand: ${u}</span></p>
    <p class="products__category">Category: ${r}</p>
    <p class="products__price">Price: ${n}</p>
 </li>`).join(""),S=({id:t,title:e,description:s,price:a,shippingInformation:r,returnPolicy:n,tags:i,images:u})=>`
    <img class="modal-product__img" src="${u[0]}" alt="${e}" />
      <div class="modal-product__content" data-id="${t}">
        <p class="modal-product__title">${e}</p>
        <ul class="modal-product__tags">
        ${i.map(y=>`<li>${y}</li>`)}
        </ul>
        <p class="modal-product__description">${s}</p>
        <p class="modal-product__shipping-information">Shipping:$${r}</p>
        <p class="modal-product__return-policy">Return Policy:${n}</p>
        <p class="modal-product__price">Price: ${a}$</p>
        <button class="modal-product__buy-btn" type="button">Buy</button>
      </div>
    `,p="cart";let c=JSON.parse(localStorage.getItem(p))||[];const f="wishlist";let d=JSON.parse(localStorage.getItem(f))||[];async function x(t){let e;const s=t.target;s.classList.contains("categories__btn")&&(o.categories.querySelectorAll("button").forEach(a=>a.classList.remove("categories__btn--active")),s.textContent==="All"?e=await C():e=await v(t.target.textContent),e.length===0&&o.div.classList.add("not-found--visible"),s.classList.add("categories__btn--active"),o.products.innerHTML=g(e))}o.btnClose.addEventListener("click",m);o.modal.addEventListener("click",t=>{t.target===t.currentTarget&&m()});function _(t){t.key==="Escape"&&m()}function m(){o.modal.classList.remove("modal--is-open"),window.removeEventListener("keydown",_)}async function O(t){t.preventDefault();const e=t.target.elements.searchValue.value;if(e.trim()==="")return;const s=await $(e);s.length===0?o.products.innerHTML="":o.products.innerHTML=g(s),o.div.classList.toggle("not-found--visible",s.length===0),t.target.reset()}async function A(t){const e=t.target.closest("li");if(!e)return;const s=await L(e.dataset.id),a=e.dataset.id;o.modalContent.innerHTML=S(s),o.modal.classList.add("modal--is-open"),c.includes(a)?o.btnCart.textContent="Remove from Cart":o.btnCart.textContent="Add to Cart",d.includes(a)?o.btnWishList.textContent="Remove from Wishlist":o.btnWishList.textContent="Add from Wishlist",window.addEventListener("keydown",_)}function W(){const t=o.modal.querySelector(".modal-product__content").dataset.id;if(c.includes(t)){const e=c.indexOf(t);c.splice(e,1),o.btnCart.textContent="Add to Cart"}else c.push(t),o.btnCart.textContent="Remove from Cart";localStorage.setItem(p,JSON.stringify(c)),o.spanProd[0].textContent=c.length}function E(){const t=o.modal.querySelector(".modal-product__content").dataset.id;if(d.includes(t)){const e=d.indexOf(t);d.splice(e,1),o.btnWishList.textContent="Add to Wishlist"}else d.push(t),o.btnWishList.textContent="Remove from Wishlist";localStorage.setItem(f,JSON.stringify(d)),o.spanProd[1].textContent=d.length}function I(){h("success","Замовлення готове"),c.splice(0,c.length),localStorage.setItem(p,JSON.stringify(c))}export{c as a,d as b,E as c,P as d,q as e,C as f,L as g,W as h,I as i,x as o,A as p,o as r,O as s,g as w};
//# sourceMappingURL=handlers-rA0T78h-.js.map
