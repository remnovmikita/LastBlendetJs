import"./assets/styles-JE8YjOlG.js";import{r as t,c,d as u,w as r,e as g,g as f,f as m,a as i,b as o,K as C,h as L,i as p,j as h}from"./assets/storage-Cpt4hJ8v.js";import"./assets/vendor-BJ9gahTP.js";async function v(e){let n;const s=e.target;s.classList.contains("categories__btn")&&(t.categories.querySelectorAll("button").forEach(a=>a.classList.remove("categories__btn--active")),s.textContent==="All"?n=await c():n=await u(e.target.textContent),n.length===0&&t.div.classList.add("not-found--visible"),s.classList.add("categories__btn--active"),t.products.innerHTML=r(n))}t.btnClose.addEventListener("click",d);t.modal.addEventListener("click",e=>{e.target===e.currentTarget&&d()});function l(e){e.key==="Escape"&&d()}function d(){t.modal.classList.remove("modal--is-open"),window.removeEventListener("keydown",l)}async function b(e){e.preventDefault();const n=e.target.elements.searchValue.value;if(n.trim()==="")return;const s=await g(n);s.length===0?t.products.innerHTML="":t.products.innerHTML=r(s),t.div.classList.toggle("not-found--visible",s.length===0),e.target.reset()}async function x(e){const n=e.target.closest("li");if(!n)return;const s=await f(n.dataset.id),a=n.dataset.id;t.modalContent.innerHTML=m(s),t.modal.classList.add("modal--is-open"),i.includes(a)?t.btnCart.textContent="Remove from Cart":t.btnCart.textContent="Add to Cart",o.includes(a)?t.btnWishList.textContent="Remove from Wishlist":t.btnWishList.textContent="Add from Wishlist",window.addEventListener("keydown",l)}function y(){const e=t.modal.querySelector(".modal-product__content").dataset.id;if(i.includes(e)){const n=i.indexOf(e);i.splice(n,1),t.btnCart.textContent="Add to Cart"}else i.push(e),t.btnCart.textContent="Remove from Cart";localStorage.setItem(C,JSON.stringify(i)),t.spanProd[0].textContent=i.length}function w(){const e=t.modal.querySelector(".modal-product__content").dataset.id;if(o.includes(e)){const n=o.indexOf(e);o.splice(n,1),t.btnWishList.textContent="Add to Wishlist"}else o.push(e),t.btnWishList.textContent="Remove from Wishlist";localStorage.setItem(L,JSON.stringify(o)),t.spanProd[1].textContent=o.length}E();async function E(){const e=await p();t.categories.innerHTML=h(e);const n=await c();t.products.innerHTML=r(n),t.spanProd[0].textContent=i.length,t.spanProd[1].textContent=o.length}t.categories.addEventListener("click",v);t.products.addEventListener("click",x);t.form.addEventListener("submit",b);t.btnCart.addEventListener("click",y);t.btnWishList.addEventListener("click",w);
//# sourceMappingURL=index.js.map
