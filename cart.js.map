{"version":3,"file":"cart.js","sources":["../src/cart.js"],"sourcesContent":["//Логіка сторінки Cart\n\nimport { addProdInCart, ordersReady, prodClick } from \"./js/handlers\";\nimport { message } from \"./js/helpers\";\nimport { getProdById } from \"./js/products-api\";\nimport { refs } from \"./js/refs\";\nimport { writeProducts } from \"./js/render-function\";\nimport { arrCart, arrWishList } from \"./js/storage\";\n\n\n\ncartListApp()\n\n\nasync function cartListApp() {\n    const allprise = 0\n    refs.spanProd[0].textContent = arrCart.length;\n    refs.spanProd[1].textContent = arrWishList.length;\n    refs.spanCart[0].textContent = arrCart.length;\n    const promise = arrCart.map(id => getProdById(id))\n        \n       Promise.all(promise)\n        .then(promises =>{\n            refs.products.innerHTML = writeProducts(promises)    \n            const prisec = promises.reduce((acc, num)=> acc + num.price, 0)\n            refs.spanCart[1].textContent = Math.round(prisec * 100) / 100;            \n        })\n        .catch(err=>{\n            console.error(err);  \n        })\n        \n}\n\n\n// Клік на відкриття модалки\nrefs.products.addEventListener(\"click\", prodClick)\n//\n// Додавання в массив Карт та прибирання\nrefs.btnCart.addEventListener(\"click\", addProdInCart);\nrefs.btnCart.addEventListener(\"click\", cartListApp);\n//\n// Клік кнопки купити\nrefs.btnBuy.addEventListener(\"click\", ordersReady)\nrefs.btnBuy.addEventListener(\"click\", cartListApp)\n//\n\n"],"names":["cartListApp","refs","arrCart","arrWishList","promise","id","getProdById","promises","writeProducts","prisec","acc","num","err","prodClick","addProdInCart","ordersReady"],"mappings":"uIAWAA,EAAa,EAGb,eAAeA,GAAc,CAEzBC,EAAK,SAAS,CAAC,EAAE,YAAcC,EAAQ,OACvCD,EAAK,SAAS,CAAC,EAAE,YAAcE,EAAY,OAC3CF,EAAK,SAAS,CAAC,EAAE,YAAcC,EAAQ,OACvC,MAAME,EAAUF,EAAQ,IAAIG,GAAMC,EAAYD,CAAE,CAAC,EAE9C,QAAQ,IAAID,CAAO,EACjB,KAAKG,GAAW,CACbN,EAAK,SAAS,UAAYO,EAAcD,CAAQ,EAChD,MAAME,EAASF,EAAS,OAAO,CAACG,EAAKC,IAAOD,EAAMC,EAAI,MAAO,CAAC,EAC9DV,EAAK,SAAS,CAAC,EAAE,YAAc,KAAK,MAAMQ,EAAS,GAAG,EAAI,GACtE,CAAS,EACA,MAAMG,GAAK,CACR,QAAQ,MAAMA,CAAG,CAC7B,CAAS,CAET,CAIAX,EAAK,SAAS,iBAAiB,QAASY,CAAS,EAGjDZ,EAAK,QAAQ,iBAAiB,QAASa,CAAa,EACpDb,EAAK,QAAQ,iBAAiB,QAASD,CAAW,EAGlDC,EAAK,OAAO,iBAAiB,QAASc,CAAW,EACjDd,EAAK,OAAO,iBAAiB,QAASD,CAAW"}