{"version":3,"file":"index.js","sources":["../src/js/products-api.js","../src/js/refs.js","../src/js/render-function.js","../src/home.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://dummyjson.com/products';\n\nexport const getCatalog = async () => {\n  const { data } = await axios.get('/category-list');\n  const res = ['All', ...data];\n  return res;\n};\n\nexport const getProducts = async (currentPage = 1) => {\n  const url = `?limit=12&skip=${(currentPage - 1) * 12}`;\n  const { data } = await axios.get(url);\n\n  return data.products;\n};\nexport const getProdByCaterogy = async(target, currentPage = 1 ) =>{\n    const {data} = await axios.get(`/category/${target}?limit=12&skip=${(currentPage - 1) * 12}`)\n\n    return data.products\n}\n","export const refs = {\n  categories: document.querySelector('.categories'),\n  products: document.querySelector('.products'),\n  div: document.querySelector(\"div.not-found\"),\n};\n","export const writeCatalog = arr => {\n  return arr\n    .map(\n      x => \n        `\n        <li class=\"categories__item\">\n        <button class=\"categories__btn ${x === \"All\" ? \"categories__btn--active\" : \"\"}\" type=\"button\">${x}</button>\n        </li>\n        `\n    )\n    .join('');\n};\n\nexport const writeProducts = arr => {\n  return arr.map(\n    ({\n      id,\n      title,\n      description,\n      category,\n      price,\n      thumbnail,\n      brand,\n    }) => `<li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${thumbnail}\" alt=\"${description}\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand: ${brand}</span></p>\n    <p class=\"products__category\">Category: ${category}</p>\n    <p class=\"products__price\">Price: ${price}</p>\n </li>\n`\n  );\n};\n","//Логіка сторінки Home\n\nimport { getCatalog, getProdByCaterogy, getProducts } from './js/products-api';\nimport { refs } from './js/refs';\nimport { writeCatalog, writeProducts } from './js/render-function';\n\ninitAp();\n\n// getCatalog()\n// .then(data =>{\n//     console.log(data);\n\n// }).catch(error =>{\n//     console.log(error);\n\n// })\n\nasync function initAp() {\n  const categories = await getCatalog();\n  refs.categories.innerHTML = writeCatalog(categories);\n\n  const products = await getProducts();\n  refs.products.innerHTML = writeProducts(products);\n\n}\n\n\nrefs.categories.addEventListener(\"click\", onClick)\n\nasync function onClick(e){\n    let products;\n    const target = e.target;\n    \n    if(!target.classList.contains(\"categories__btn\"))return\n    refs.categories.querySelectorAll(\"button\").forEach(btn => btn.classList.remove(\"categories__btn--active\"))\n    console.log(target.textContent);\n\n    if(target.textContent === \"All\"){\n        products = await getProducts();\n    }else{\n        products = await getProdByCaterogy(e.target.textContent) \n    }\n    if(products.length === 0) refs.div.classList.add(\"not-found--visible\");\n    target.classList.add(\"categories__btn--active\")\n    refs.products.innerHTML = writeProducts(products);\n\n    console.log(refs.div);\n    \n}"],"names":["axios","getCatalog","data","getProducts","currentPage","url","getProdByCaterogy","target","refs","writeCatalog","arr","x","writeProducts","id","title","description","category","price","thumbnail","brand","initAp","categories","products","onClick","e","btn"],"mappings":"oFAEAA,EAAM,SAAS,QAAU,iCAElB,MAAMC,EAAa,SAAY,CACpC,KAAM,CAAE,KAAAC,CAAI,EAAK,MAAMF,EAAM,IAAI,gBAAgB,EAEjD,MADY,CAAC,MAAO,GAAGE,CAAI,CAE7B,EAEaC,EAAc,MAAOC,EAAc,IAAM,CACpD,MAAMC,EAAM,mBAAmBD,EAAc,GAAK,EAAE,GAC9C,CAAE,KAAAF,CAAI,EAAK,MAAMF,EAAM,IAAIK,CAAG,EAEpC,OAAOH,EAAK,QACd,EACaI,EAAoB,MAAMC,EAAQH,EAAc,IAAM,CAC/D,KAAM,CAAC,KAAAF,CAAI,EAAI,MAAMF,EAAM,IAAI,aAAaO,CAAM,mBAAmBH,EAAc,GAAK,EAAE,EAAE,EAE5F,OAAOF,EAAK,QAChB,ECpBaM,EAAO,CAClB,WAAY,SAAS,cAAc,aAAa,EAChD,SAAU,SAAS,cAAc,WAAW,EAC5C,IAAK,SAAS,cAAc,eAAe,CAC7C,ECJaC,EAAeC,GACnBA,EACJ,IACCC,GACE;AAAA;AAAA,yCAEiCA,IAAM,MAAQ,0BAA4B,EAAE,mBAAmBA,CAAC;AAAA;AAAA,SAGpG,EACA,KAAK,EAAE,EAGCC,EAAgBF,GACpBA,EAAI,IACT,CAAC,CACC,GAAAG,EACA,MAAAC,EACA,YAAAC,EACA,SAAAC,EACA,MAAAC,EACA,UAAAC,EACA,MAAAC,CACN,IAAU,uCAAuCN,CAAE;AAAA,wCACXK,CAAS,UAAUH,CAAW;AAAA,iCACrCD,CAAK;AAAA,4EACsCK,CAAK;AAAA,8CACnCH,CAAQ;AAAA,wCACdC,CAAK;AAAA;AAAA,CAG7C,ECzBAG,IAWA,eAAeA,GAAS,CACtB,MAAMC,EAAa,MAAMpB,IACzBO,EAAK,WAAW,UAAYC,EAAaY,CAAU,EAEnD,MAAMC,EAAW,MAAMnB,IACvBK,EAAK,SAAS,UAAYI,EAAcU,CAAQ,CAElD,CAGAd,EAAK,WAAW,iBAAiB,QAASe,CAAO,EAEjD,eAAeA,EAAQC,EAAE,CACrB,IAAIF,EACJ,MAAMf,EAASiB,EAAE,OAEbjB,EAAO,UAAU,SAAS,iBAAiB,IAC/CC,EAAK,WAAW,iBAAiB,QAAQ,EAAE,QAAQiB,GAAOA,EAAI,UAAU,OAAO,yBAAyB,CAAC,EACzG,QAAQ,IAAIlB,EAAO,WAAW,EAE3BA,EAAO,cAAgB,MACtBe,EAAW,MAAMnB,IAEjBmB,EAAW,MAAMhB,EAAkBkB,EAAE,OAAO,WAAW,EAExDF,EAAS,SAAW,GAAGd,EAAK,IAAI,UAAU,IAAI,oBAAoB,EACrED,EAAO,UAAU,IAAI,yBAAyB,EAC9CC,EAAK,SAAS,UAAYI,EAAcU,CAAQ,EAEhD,QAAQ,IAAId,EAAK,GAAG,EAExB"}