{"version":3,"file":"index.js","sources":["../src/js/products-api.js","../src/js/refs.js","../src/js/render-function.js","../src/js/handlers.js","../src/home.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://dummyjson.com/products';\n\nexport const getCatalog = async () => {\n  const { data } = await axios.get('/category-list');\n  const res = ['All', ...data];\n  return res;\n};\n\nexport const getProducts = async (currentPage = 1) => {\n  const url = `?limit=12&skip=${(currentPage - 1) * 12}`;\n  const { data } = await axios.get(url);\n\n  return data.products;\n};\nexport const getProdByCaterogy = async(target, currentPage = 1 ) =>{\n    const {data} = await axios.get(`/category/${target}?limit=12&skip=${(currentPage - 1) * 12}`)\n\n    return data.products\n}\nexport const getProdById = async(id)=>{\n    const {data} = await axios.get(`/${id}`)\n\n    return data\n}","export const refs = {\n  categories: document.querySelector('.categories'),\n  products: document.querySelector('.products'),\n  div: document.querySelector(\"div.not-found\"),\n  modalContent: document.querySelector(\"div.modal-product\"),\n  modal: document.querySelector(\"div.modal\"),\n  btnClose: document.querySelector('.modal__close-btn')\n};\n","export const writeCatalog = arr => {\n  return arr\n    .map(\n      x => \n        `\n        <li class=\"categories__item\">\n        <button class=\"categories__btn ${x === \"All\" ? \"categories__btn--active\" : \"\"}\" type=\"button\">${x}</button>\n        </li>\n        `\n    )\n    .join('');\n};\n\nexport const writeProducts = arr => {\n  return arr.map(\n    ({\n      id,\n      title,\n      description,\n      category,\n      price,\n      thumbnail,\n      brand,\n    }) => `<li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${thumbnail}\" alt=\"${description}\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand: ${brand}</span></p>\n    <p class=\"products__category\">Category: ${category}</p>\n    <p class=\"products__price\">Price: ${price}</p>\n </li>\n`\n  );\n};\n\nexport const writemodalById = ({\n        id,\n      title,\n      description,\n      category,\n      price,\n      thumbnail,\n      brand,\n      shippingInformation,\n      returnPolicy,\n    tags,\n    images,\n    }) =>{\n    return `\n    <img class=\"modal-product__img\" src=\"${images[0]}\" alt=\"${title}\" />\n      <div class=\"modal-product__content\">\n        <p class=\"modal-product__title\">${title}</p>\n        <ul class=\"modal-product__tags\">\n        ${tags.map(tag => `<li>${tag}</li>`)}\n        </ul>\n        <p class=\"modal-product__description\">${description}</p>\n        <p class=\"modal-product__shipping-information\">Shipping:$${shippingInformation}</p>\n        <p class=\"modal-product__return-policy\">Return Policy:${returnPolicy}</p>\n        <p class=\"modal-product__price\">Price: ${price}$</p>\n        <button class=\"modal-product__buy-btn\" type=\"button\">Buy</button>\n      </div>\n    `\n}","import { getProdByCaterogy, getProducts } from \"./products-api\";\nimport { refs } from \"./refs\";\nimport { writeProducts } from \"./render-function\";\n\n\nexport async function onClick(e){\n    let products;\n    const target = e.target;\n    \n    if(!target.classList.contains(\"categories__btn\"))return\n    refs.categories.querySelectorAll(\"button\").forEach(btn => btn.classList.remove(\"categories__btn--active\"))\n    \n\n    if(target.textContent === \"All\"){\n        products = await getProducts();\n    }else{\n        products = await getProdByCaterogy(e.target.textContent) \n    }\n    if(products.length === 0) refs.div.classList.add(\"not-found--visible\");\n    target.classList.add(\"categories__btn--active\")\n    refs.products.innerHTML = writeProducts(products);\n\n    \n    \n}","//Логіка сторінки Home\n\nimport { getCatalog, getProdByCaterogy, getProdById, getProducts } from './js/products-api';\nimport { refs } from './js/refs';\nimport { writeCatalog, writemodalById, writeProducts } from './js/render-function';\nimport { onClick } from './js/handlers';\ninitAp();\n\n// getCatalog()\n// .then(data =>{\n//     console.log(data);\n\n// }).catch(error =>{\n//     console.log(error);\n\n// })\n\nasync function initAp() {\n  const categories = await getCatalog();\n  refs.categories.innerHTML = writeCatalog(categories);\n\n  const products = await getProducts();\n  refs.products.innerHTML = writeProducts(products);\n\n}\n\n\nrefs.categories.addEventListener(\"click\", onClick)\n\nrefs.products.addEventListener(\"click\", prodClick)\n\nrefs.btnClose.addEventListener(\"click\", closeModal)\n\nrefs.modal.addEventListener(\"click\", e=>{\n    if(e.target === e.currentTarget) closeModal();\n    \n})\n\nasync function prodClick(e){\n const target = e.target.closest(\"li\");\n if(!target)return\n console.log(target.dataset.id);\n const product = await getProdById(target.dataset.id)\n console.log(product);\n \n refs.modalContent.innerHTML = writemodalById(product)\n console.log(refs.modal);\n \n refs.modal.classList.add(\"modal--is-open\")\n window.addEventListener(\"keydown\", checkButton)\n \n}\n function closeModal(){\n    refs.modal.classList.remove(\"modal--is-open\");\n    window.removeEventListener(\"keydown\", checkButton)\n}\nfunction checkButton(event){\n    if(event.key === \"Escape\")closeModal();\n}"],"names":["axios","getCatalog","data","getProducts","currentPage","url","getProdByCaterogy","target","getProdById","id","refs","writeCatalog","arr","x","writeProducts","title","description","category","price","thumbnail","brand","writemodalById","shippingInformation","returnPolicy","tags","images","tag","onClick","e","products","btn","initAp","categories","prodClick","closeModal","product","checkButton","event"],"mappings":"oFAEAA,EAAM,SAAS,QAAU,iCAElB,MAAMC,EAAa,SAAY,CACpC,KAAM,CAAE,KAAAC,CAAI,EAAK,MAAMF,EAAM,IAAI,gBAAgB,EAEjD,MADY,CAAC,MAAO,GAAGE,CAAI,CAE7B,EAEaC,EAAc,MAAOC,EAAc,IAAM,CACpD,MAAMC,EAAM,mBAAmBD,EAAc,GAAK,EAAE,GAC9C,CAAE,KAAAF,CAAI,EAAK,MAAMF,EAAM,IAAIK,CAAG,EAEpC,OAAOH,EAAK,QACd,EACaI,EAAoB,MAAMC,EAAQH,EAAc,IAAM,CAC/D,KAAM,CAAC,KAAAF,CAAI,EAAI,MAAMF,EAAM,IAAI,aAAaO,CAAM,mBAAmBH,EAAc,GAAK,EAAE,EAAE,EAE5F,OAAOF,EAAK,QAChB,EACaM,EAAc,MAAMC,GAAK,CAClC,KAAM,CAAC,KAAAP,CAAI,EAAI,MAAMF,EAAM,IAAI,IAAIS,CAAE,EAAE,EAEvC,OAAOP,CACX,ECzBaQ,EAAO,CAClB,WAAY,SAAS,cAAc,aAAa,EAChD,SAAU,SAAS,cAAc,WAAW,EAC5C,IAAK,SAAS,cAAc,eAAe,EAC3C,aAAc,SAAS,cAAc,mBAAmB,EACxD,MAAO,SAAS,cAAc,WAAW,EACzC,SAAU,SAAS,cAAc,mBAAmB,CACtD,ECPaC,EAAeC,GACnBA,EACJ,IACCC,GACE;AAAA;AAAA,yCAEiCA,IAAM,MAAQ,0BAA4B,EAAE,mBAAmBA,CAAC;AAAA;AAAA,SAGpG,EACA,KAAK,EAAE,EAGCC,EAAgBF,GACpBA,EAAI,IACT,CAAC,CACC,GAAAH,EACA,MAAAM,EACA,YAAAC,EACA,SAAAC,EACA,MAAAC,EACA,UAAAC,EACA,MAAAC,CACN,IAAU,uCAAuCX,CAAE;AAAA,wCACXU,CAAS,UAAUH,CAAW;AAAA,iCACrCD,CAAK;AAAA,4EACsCK,CAAK;AAAA,8CACnCH,CAAQ;AAAA,wCACdC,CAAK;AAAA;AAAA,CAG7C,EAGaG,EAAiB,CAAC,CACvB,GAAAZ,EACF,MAAAM,EACA,YAAAC,EACA,SAAAC,EACA,MAAAC,EACA,UAAAC,EACA,MAAAC,EACA,oBAAAE,EACA,aAAAC,EACF,KAAAC,EACA,OAAAC,CACJ,IACW;AAAA,2CACgCA,EAAO,CAAC,CAAC,UAAUV,CAAK;AAAA;AAAA,0CAEzBA,CAAK;AAAA;AAAA,UAErCS,EAAK,IAAIE,GAAO,OAAOA,CAAG,OAAO,CAAC;AAAA;AAAA,gDAEIV,CAAW;AAAA,mEACQM,CAAmB;AAAA,gEACtBC,CAAY;AAAA,iDAC3BL,CAAK;AAAA;AAAA;AAAA,MCpD/C,eAAeS,EAAQC,EAAE,CAC5B,IAAIC,EACJ,MAAMtB,EAASqB,EAAE,OAEbrB,EAAO,UAAU,SAAS,iBAAiB,IAC/CG,EAAK,WAAW,iBAAiB,QAAQ,EAAE,QAAQoB,GAAOA,EAAI,UAAU,OAAO,yBAAyB,CAAC,EAGtGvB,EAAO,cAAgB,MACtBsB,EAAW,MAAM1B,IAEjB0B,EAAW,MAAMvB,EAAkBsB,EAAE,OAAO,WAAW,EAExDC,EAAS,SAAW,GAAGnB,EAAK,IAAI,UAAU,IAAI,oBAAoB,EACrEH,EAAO,UAAU,IAAI,yBAAyB,EAC9CG,EAAK,SAAS,UAAYI,EAAce,CAAQ,EAIpD,CClBAE,IAWA,eAAeA,GAAS,CACtB,MAAMC,EAAa,MAAM/B,IACzBS,EAAK,WAAW,UAAYC,EAAaqB,CAAU,EAEnD,MAAMH,EAAW,MAAM1B,IACvBO,EAAK,SAAS,UAAYI,EAAce,CAAQ,CAElD,CAGAnB,EAAK,WAAW,iBAAiB,QAASiB,CAAO,EAEjDjB,EAAK,SAAS,iBAAiB,QAASuB,CAAS,EAEjDvB,EAAK,SAAS,iBAAiB,QAASwB,CAAU,EAElDxB,EAAK,MAAM,iBAAiB,QAASkB,GAAG,CACjCA,EAAE,SAAWA,EAAE,eAAeM,EAAU,CAE/C,CAAC,EAED,eAAeD,EAAUL,EAAE,CAC1B,MAAMrB,EAASqB,EAAE,OAAO,QAAQ,IAAI,EACpC,GAAG,CAACrB,EAAO,OACX,QAAQ,IAAIA,EAAO,QAAQ,EAAE,EAC7B,MAAM4B,EAAU,MAAM3B,EAAYD,EAAO,QAAQ,EAAE,EACnD,QAAQ,IAAI4B,CAAO,EAEnBzB,EAAK,aAAa,UAAYW,EAAec,CAAO,EACpD,QAAQ,IAAIzB,EAAK,KAAK,EAEtBA,EAAK,MAAM,UAAU,IAAI,gBAAgB,EACzC,OAAO,iBAAiB,UAAW0B,CAAW,CAE/C,CACC,SAASF,GAAY,CAClBxB,EAAK,MAAM,UAAU,OAAO,gBAAgB,EAC5C,OAAO,oBAAoB,UAAW0B,CAAW,CACrD,CACA,SAASA,EAAYC,EAAM,CACpBA,EAAM,MAAQ,UAASH,EAAU,CACxC"}